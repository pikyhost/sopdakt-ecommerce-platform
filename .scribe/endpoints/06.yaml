name: 'Cart Management'
description: |-

  APIs for managing the shopping cart, including viewing cart contents, updating shipping details, modifying item quantities, removing items, and proceeding to checkout.
endpoints:
  -
    httpMethods:
      - GET
    uri: api/cart
    metadata:
      groupName: 'Cart Management'
      groupDescription: |-

        APIs for managing the shopping cart, including viewing cart contents, updating shipping details, modifying item quantities, removing items, and proceeding to checkout.
      subgroup: ''
      subgroupDescription: ''
      title: "Get the user's cart"
      description: "Retrieves the current user's cart or a session-based cart if the user is not authenticated. Includes cart items, totals, shipping options, and complementary products."
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      coupon_code:
        name: coupon_code
        description: 'nullable Coupon code to apply.'
        required: false
        example: SUMMER20
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      coupon_code: SUMMER20
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "cart": {
              "id": 1,
              "user_id": 1,
              "session_id": null,
              "subtotal": 99.99,
              "total": 109.99,
              "tax_percentage": 5,
              "tax_amount": 5.00,
              "shipping_cost": 5.00,
              "country_id": 1,
              "governorate_id": 1,
              "city_id": 1,
              "shipping_type_id": 1
            },
            "cartItems": [
              {
                "id": 1,
                "cart_id": 1,
                "product_id": 1,
                "quantity": 2,
                "subtotal": 49.98,
                "product": {
                  "id": 1,
                  "name": "Sample Product",
                  "slug": "sample-product",
                  "discount_price_for_current_country": "24.99 USD"
                }
              }
            ],
            "totals": {
              "subtotal": 99.99,
              "shipping_cost": 5.00,
              "tax": 5.00,
              "total": 109.99,
              "currency": "USD",
              "free_shipping_applied": false,
              "discount_applied": 10.00
            },
            "countries": [
              {"id": 1, "name": "USA", "cost": 5.00},
              {"id": 2, "name": "Canada", "cost": 7.00}
            ],
            "governorates": [
              {"id": 1, "name": "California", "country_id": 1},
              {"id": 2, "name": "Ontario", "country_id": 2}
            ],
            "cities": [
              {"id": 1, "name": "Los Angeles", "governorate_id": 1},
              {"id": 2, "name": "Toronto", "governorate_id": 2}
            ],
            "shipping_types": [
              {"id": 1, "name": "Standard Shipping", "cost": 5.00, "status": true},
              {"id": 2, "name": "Express Shipping", "cost": 10.00, "status": true}
            ],
            "complementary_products": [
              {
                "id": 2,
                "name": "Complementary Product",
                "slug": "complementary-product",
                "discount_price_for_current_country": "19.99 USD"
              }
            ]
          }
        headers: []
        description: ''
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "error": "Invalid or expired coupon."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/cart/shipping
    metadata:
      groupName: 'Cart Management'
      groupDescription: |-

        APIs for managing the shopping cart, including viewing cart contents, updating shipping details, modifying item quantities, removing items, and proceeding to checkout.
      subgroup: ''
      subgroupDescription: ''
      title: 'Update cart shipping and location details'
      description: "Updates the cart's shipping and location details (country, governorate, city, and shipping type). Returns updated cart details and dependent location data."
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      country_id:
        name: country_id
        description: 'nullable The ID of the country.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      governorate_id:
        name: governorate_id
        description: 'nullable The ID of the governorate.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      city_id:
        name: city_id
        description: 'nullable The ID of the city.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      shipping_type_id:
        name: shipping_type_id
        description: 'nullable The ID of the shipping type.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      coupon_code:
        name: coupon_code
        description: 'nullable Coupon code to apply.'
        required: false
        example: SUMMER20
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      country_id: 1
      governorate_id: 1
      city_id: 1
      shipping_type_id: 1
      coupon_code: SUMMER20
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "cart": {
              "id": 1,
              "user_id": 1,
              "session_id": null,
              "subtotal": 99.99,
              "total": 109.99,
              "tax_percentage": 5,
              "tax_amount": 5.00,
              "shipping_cost": 5.00,
              "country_id": 1,
              "governorate_id": 1,
              "city_id": 1,
              "shipping_type_id": 1
            },
            "cartItems": [
              {
                "id": 1,
                "cart_id": 1,
                "product_id": 1,
                "quantity": 2,
                "subtotal": 49.98,
                "product": {
                  "id": 1,
                  "name": "Sample Product",
                  "slug": "sample-product",
                  "discount_price_for_current_country": "24.99 USD"
                }
              }
            ],
            "totals": {
              "subtotal": 99.99,
              "shipping_cost": 5.00,
              "tax": 5.00,
              "total": 109.99,
              "currency": "USD",
              "free_shipping_applied": false,
              "discount_applied": 10.00
            },
            "governorates": [
              {"id": 1, "name": "California", "country_id": 1}
            ],
            "cities": [
              {"id": 1, "name": "Los Angeles", "governorate_id": 1}
            ]
          }
        headers: []
        description: ''
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "errors": {
              "country_id": ["The selected country id is invalid."]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "error": "Invalid or expired coupon."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: 'api/cart/item/{cartItemId}/quantity'
    metadata:
      groupName: 'Cart Management'
      groupDescription: |-

        APIs for managing the shopping cart, including viewing cart contents, updating shipping details, modifying item quantities, removing items, and proceeding to checkout.
      subgroup: ''
      subgroupDescription: ''
      title: 'Update cart item quantity'
      description: 'Increases or decreases the quantity of a specific cart item. If the quantity reaches 0, the item is removed.'
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      cartItemId:
        name: cartItemId
        description: 'The ID of the cart item.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      cartItemId: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      action:
        name: action
        description: 'Must be "increase" or "decrease".'
        required: true
        example: increase
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      coupon_code:
        name: coupon_code
        description: 'nullable Coupon code to apply.'
        required: false
        example: SUMMER20
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      action: increase
      coupon_code: SUMMER20
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "cart": {
              "id": 1,
              "user_id": 1,
              "session_id": null,
              "subtotal": 74.97,
              "total": 82.47,
              "tax_percentage": 5,
              "tax_amount": 3.75,
              "shipping_cost": 5.00
            },
            "cartItems": [
              {
                "id": 1,
                "cart_id": 1,
                "product_id": 1,
                "quantity": 3,
                "subtotal": 74.97,
                "product": {
                  "id": 1,
                  "name": "Sample Product",
                  "slug": "sample-product",
                  "discount_price_for_current_country": "24.99 USD"
                }
              }
            ],
            "totals": {
              "subtotal": 74.97,
              "shipping_cost": 5.00,
              "tax": 3.75,
              "total": 82.47,
              "currency": "USD",
              "free_shipping_applied": false,
              "discount_applied": 7.50
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "error": "Cart item not found"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "errors": {
              "action": ["The action must be increase or decrease."]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "error": "Invalid or expired coupon."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - DELETE
    uri: 'api/cart/item/{cartItemId}'
    metadata:
      groupName: 'Cart Management'
      groupDescription: |-

        APIs for managing the shopping cart, including viewing cart contents, updating shipping details, modifying item quantities, removing items, and proceeding to checkout.
      subgroup: ''
      subgroupDescription: ''
      title: 'Remove a cart item'
      description: 'Removes a specific cart item from the cart. If the item is part of a bundle, the entire bundle is removed.'
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      cartItemId:
        name: cartItemId
        description: 'The ID of the cart item to remove.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      cartItemId: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      coupon_code:
        name: coupon_code
        description: 'nullable Coupon code to apply.'
        required: false
        example: SUMMER20
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      coupon_code: SUMMER20
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "cart": {
              "id": 1,
              "user_id": 1,
              "session_id": null,
              "subtotal": 0.00,
              "total": 0.00,
              "tax_percentage": 5,
              "tax_amount": 0.00,
              "shipping_cost": 0.00
            },
            "cartItems": [],
            "totals": {
              "subtotal": 0.00,
              "shipping_cost": 0.00,
              "tax": 0.00,
              "total": 0.00,
              "currency": "USD",
              "free_shipping_applied": false,
              "discount_applied": 0.00
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "error": "Cart item not found"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "error": "Invalid or expired coupon."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/cart/checkout
    metadata:
      groupName: 'Cart Management'
      groupDescription: |-

        APIs for managing the shopping cart, including viewing cart contents, updating shipping details, modifying item quantities, removing items, and proceeding to checkout.
      subgroup: ''
      subgroupDescription: ''
      title: 'Proceed to checkout'
      description: 'Validates the cart and prepares it for checkout. Ensures valid quantities and shipping details, then returns a checkout URL.'
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      selected_shipping:
        name: selected_shipping
        description: 'nullable ID of the selected shipping type.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      country_id:
        name: country_id
        description: 'ID of the country.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      governorate_id:
        name: governorate_id
        description: 'ID of the governorate.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      city_id:
        name: city_id
        description: 'nullable ID of the city.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      coupon_code:
        name: coupon_code
        description: 'nullable Coupon code to apply.'
        required: false
        example: SUMMER20
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      selected_shipping: 1
      country_id: 1
      governorate_id: 1
      city_id: 1
      coupon_code: SUMMER20
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "message": "Cart ready for checkout",
            "checkout_url": "http://example.com/checkout",
            "cart": {
              "id": 1,
              "user_id": 1,
              "session_id": null,
              "subtotal": 99.99,
              "total": 109.99,
              "tax_percentage": 5,
              "tax_amount": 5.00,
              "shipping_cost": 5.00,
              "country_id": 1,
              "governorate_id": 1,
              "city_id": 1,
              "shipping_type_id": 1
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "error": "The maximum quantity allowed per product is 10. Need more? Contact us via our support page.",
            "support_link": "http://example.com/contact"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "errors": {
              "country_id": ["The country id field is required."]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "error": "Invalid or expired coupon."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
